<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Mon Nov 17 15:34:31 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>org.gbif.cli (GBIF Common :: CLI 0.8-SNAPSHOT API)</title>
<meta name="date" content="2014-11-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.gbif.cli (GBIF Common :: CLI 0.8-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Package</li>
<li><a href="../../../org/gbif/cli/converter/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/gbif/cli/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.gbif.cli</h1>
<div class="docSummary">
<div class="block">Provides an easy way to create CLI (command line interface) applications.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/gbif/cli/Application.html" title="class in org.gbif.cli">Application</a></td>
<td class="colLast">
<div class="block">This is the main entry point into any CLI application.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/gbif/cli/BaseCommand.html" title="class in org.gbif.cli">BaseCommand</a></td>
<td class="colLast">
<div class="block">This base command can be used for all Commands that want to have their parameters validated and who want to allow
 specifying configuration data in a JSON or YAML file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/gbif/cli/Command.html" title="class in org.gbif.cli">Command</a></td>
<td class="colLast">
<div class="block">Base class for commands which needs to be subclassed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/gbif/cli/ConfigUtils.html" title="class in org.gbif.cli">ConfigUtils</a></td>
<td class="colLast">
<div class="block">Utils class to extract properties from a configuration bean instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/gbif/cli/GenericParameters.html" title="class in org.gbif.cli">GenericParameters</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/gbif/cli/CommandException.html" title="class in org.gbif.cli">CommandException</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Annotation Types Summary table, listing annotation types, and an explanation">
<caption><span>Annotation Types Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Annotation Type</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/gbif/cli/IgnoreProperty.html" title="annotation in org.gbif.cli">IgnoreProperty</a></td>
<td class="colLast">
<div class="block">To be used in JComannder configurations to indicates that a field should be ignored when deriving properties.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/gbif/cli/PropertyName.html" title="annotation in org.gbif.cli">PropertyName</a></td>
<td class="colLast">
<div class="block">To be used in JComannder configurations to indicates a property name for configuration parameter.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.gbif.cli Description">Package org.gbif.cli Description</h2>
<div class="block">Provides an easy way to create CLI (command line interface) applications.
 <p/>
 This project has two main abstractions: an application and a command.
 <p/>
 An <em>application</em> is a <em>collection</em> of <em>commands</em>.
 <p/>
 <p/>
 <h2>Applications</h2>
 <p/>
 An application is the top-level entry point into our CLI. It consists of multiple commands. Each command has a name
 and may optionally take different parameters. The command name should be the first argument to the program.
 <pre><code>
   java -jar cli.jar commandName [...]
 </code></pre>
 <p/>
 <p/>
 <code>Application</code> is a concrete class so it can be used immediately and it looks for <code>Command</code>s
 automatically using the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html?is-external=true" title="class or interface in java.util"><code>ServiceLoader</code></a> mechanism. If that can't be used the best way is to subclass
 <code>Application</code> and override the <code>Application#initialize()</code> method to register <code>Commands</code> using
 <code>Application#addCommand(Command)</code>.
 <p/>
 <pre><code>
 public class TestApplication extends Application {

   @Override
   public void initialize() {
     addCommand(new TestCommand());
   }

   public static void main(String[] args) {
     System.exit(new TestApplication().run(args));
   }

 }
 </code></pre>
 <p/>
 The application can now be called and it will provide usage instructions for all registered commands.
 <p/>
 <h2>Commands</h2>
 <p/>
 A Command encapsulates a single task or tool being run as part of the CLI. This can be a quick one-off task as well
 as long running services. The main class is <code>Command</code> which can be extended. It provides a name and if picked
 by the user the application will pass all arguments on that are meant for the command. The application may parse
 some arguments itself, those and the command name will be stripped from the arguments the command receives.
 <p/>
 This is a simple command that doesn't process any additional parameters and thus has no usage. The application will
 print a message explaining this.
 <pre><code>
 public class TestCommand extends Command {

   public TestCommand() {
     super("test");
   }

   @Override
   public Optional<String> getUsage() {
     return Optional.absent();
   }

   @Override
   public void run(String... arguments) {
     System.out.println("Hello world!");
   }

 }
 </code></pre>

 <h3>Base commands</h3>

 We also have a class called <code>BaseCommand</code> which provides extra functionality on top of regular Commands.

 It allows for the following things:
 <ul>
   <li>Print the help for the command</li>
   <li>Allow specifying a configuration object which will be populated using JCommander from the command line
   parameters</li>
   <li>Allow specifying a configuration object which will be populated from a specified file in JSON or YAML</li>
   <li>Both configuration objects will be verified using annotations and they can be the same object</li>
   <li>Allow some configuration of logging</li>
 </ul>

 <h3>Service commands</h3>

 To be able to write long running services which run until explicitly terminated (e.g. servers) this library provides
 a <code>ServiceCommand</code> which can be extended to manage the life cycle of a Service.

 <h2>Command discovery</h2>

 As the Application is using the ServiceLoader mechanism to detect commands you have to write the appropriate
 META-INF/services/org.gbif.cli.Command file. To make this easier you can use a library called metainf-services by
 adding a dependency like this:
 <pre><code>
   <dependency>
     <groupId>org.kohsuke.metainf-services</groupId>
     <artifactId>metainf-services</artifactId>
     <version>...</version>
     <optional>true</optional>
   </dependency>
 </code></pre>

 Then annotate your commands with either <code>{@literal @MetaInfServices}</code>
 or <code>{@literal @MetaInfServices(Command.class}</code>. Please read up on the
 <a href="http://metainf-services.kohsuke.org/">homepage</a> of the library for more details.

 <h2>Jackson usage</h2>

 This project uses Jackson 2 because only that supports YAML. That means you have to be very careful in projects
 using this to use the proper annotations. If you need to annotate any Configuration classes for example you need
 to use the annotations from Jackson 2 (<code>com.fasterxml.jackson.annotation</code> package).</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Package</li>
<li><a href="../../../org/gbif/cli/converter/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/gbif/cli/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.gbif.org">Global Biodiversity Information Facility</a>. All rights reserved.</small></p>
</body>
</html>